# Customer-Behavior-Analysis
this project is going to develop a customer behavior analysis model based on RFM model, Clustering and Logistic Regression algorithm <br>
> ## Agenda
> - [executive summary](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#executive-summary)
> - [project background](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#project-background)
> - [data source description](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#data-source-description)
> - [methodology](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#methodology)
> - [findings](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#findings)
> - [limitation](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#limitation)
> - [data source description](https://github.com/JoeChowHoKeung/Customer-Behavior-Analysis/edit/main/README.md#further-studies)
____
# Executive Summary
Under the age of digital transformation and COVID, people are willing to surf internet to purchase items for their interests and daily life. To stand from the knee competition in e-Commerce market, especially retail industry, companies desire a tool to study and visualize their customer behavior in order to develop a high-degree of customization marketing campiagn or product to customer.<br>
Data is the best tool to represent, measure, and record the customer activities which happended in the store.OpenData Bank (The Bank) is the 2021 opendata project which is launched by HKTV. The Bank provides a busienss data of HKTV mall to public which includes Transaction and Traffic Data. It is a greate opportunity to public to study the customer in Hong Kong. Most of the companies would like to identify the most profitable customers and invest resources with them for customer relationship management. Therefore, "Who are our valuable customers?" is the common busienss problem in the question list of company. <br>
This project is going to develop a RFM model to define the meaning of "profitable" with clustering algoritm and :<br>
1. detect the most profitable customers using RFM model
2. study profitable customers consumption behavior after detection through regression model with features selection
<br>
From this data project, we found the valuable customers have the following behavior preferences:

1. pretend to create or through mobile application instead of web version of HKTV mall
2. personal care & health, housewares, fruits, vegetables & flowers, and mother & baby are the top hit product categories
3. pretend to make order on wedesday and satuarday
4. unfavor to weighted packages
5. concetrate to purchase a specific primary categories

## Data Source
The source of data is from [OpenData Bank](https://opendatabank.hktvmall.com/portal/home) which is containing 2021Q1 transaction data. those daily raw data are stored as csv file with gzip compression. therefore, we concat the 2021Q1 included 90 raw data files to two dataset with selected columns and rough data filter for RFM modeling and logistic regression model. 

```python 
import pandas as pd
import os
raw_data_dir = "<the raw data directory>"

def rough_data_cleansing(file_path:str):
  df = pd.read_csv(file_path, compression="gzip")
  df.dropna("area") # since the data project includes the geometric data for analysis, we have to filter out the na value from the raw data
  return df[<selected column>]
  
full_dataset = pd.DataFrame("<map data_cleansing function to take raw data with rough cleaning from raw_data_dir>")
RFM_raw = full_dataset[["hktv_ad_id", "order_number", "order_value", "order_date"]]
behavior_raw = full_dataset["<list of columns: please refer the file of keep_columns.csv>"]
```

## Data Cleansing
the data cleansing stage would have 2 parts :
1. RFM model : _the RFM raw would be converted to Recency [the difference between observation date(1 April, 2021) and last_order_date], Frequency[the customer purchase frequency in 2021Q1] and Monatoary[total order value generated by customers in 2021Q1]_
2. behavior data aggregation : _the raw transaction data is the sku-level data. sku-level data means the dataset record are based on sku items as one row. For the analysis, the project needs a membership-level data which contains the customer information and consumption behavior summary in the period of 2021Q1, thus the aggregation would be performed two times to convert the raw data from sku-level to order-level then the final membership-level._

```python 
import pandas as pd
# for the behavior data
order_level_data = order_level_aggregation(behavior_raw)
membership_level_data = membership_level_aggregation(order_level_data)

# for RFM data
cluster_result = RFM_cluster(RFM_raw)

final_dataset = cluster_result.merge(membership_level_data, on='hktv_ad_id')
```

# Research Method
At the first stage of project (the profitable customers detection) is based on the well-known customer segmentation model - RFM Model to identify the valuable customer for HKTV Mall. Recency, frequency, monetary value (RFM) is a model used in marketing analysis that segments a company's consumer base by their purchasing patterns or habits. In particular, it evaluates customers' recency (how long ago they made a purchase), frequency (how often they make purchases), and monetary value (how much money they spend).RFM is then used to identify a company's or an organization's best customers by measuring and analyzing spending habits in order to improve low-scoring customers and maintain high-scoring ones.The RFM model is based on three quantitative factors:
1. ___Recency: How recently a customer has made a purchase.___
2. ___Frequency: How often a customer makes a purchase.___
3. ___Monetary Value: How much money a customer spends on purchases.___<br>
RFM analysis numerically ranks a customer in each of these three categories, generally on a scale of 1 to 5 (the higher the number, the better the result). The "best" customer would receive a top score in every category.

These three RFM factors can be used to reasonably predict how likely (or unlikely) it is that a customer will do business again with a firm or, in the case of a charitable organization, make another donation.
# Project Background
# Data Source Description
# Methodology
# Findings
# Limitataion
# Further Studies
